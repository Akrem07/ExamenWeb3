{% extends 'base.html.twig' %}

{% block title %}Hello PatientController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <a href="{{ path('app_logout') }}" class="btn btn-primary">Logout</a>
    <br>
    <a href="{{ path('app_analyse') }}" class="btn btn-primary">Analyses List</a> 
    <a href="{{ path('new_patient') }}" class="btn btn-primary">Add Patient</a>
    {% for patient in patients %}
        <article>
            <h2>{{patient.name}} {{patient.lastname}}</h2>
            <div class="metadata">NÃ© le {{patient.birthdate | date("m/d/Y")}}</div>
            <div class="content">
                {{patient.adress | raw }}
                <br>
                {{patient.phonenumber}}
                <br>
                {% for analyse in patient.analyses %}
                    Analyse: {{analyse.name | raw }}
                    <br>
                    Type: {{analyse.type | raw}}
                {% endfor %}
            </div>
    
            <a href="{{ path('update_form', {id: patient.id}) }}" class="btn btn-primary">Update</a>
            <a href="{{ path('delete_form', {id: patient.id}) }}" class="btn btn-primary">Delete</a>
        </article>
    {% endfor %}
</div>
{% endblock %}
